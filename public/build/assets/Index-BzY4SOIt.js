var Ht=e=>{throw TypeError(e)};var Je=(e,n,t)=>n.has(e)||Ht("Cannot "+t);var x=(e,n,t)=>(Je(e,n,"read from private field"),t?t.call(e):n.get(e)),z=(e,n,t)=>n.has(e)?Ht("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),A=(e,n,t,r)=>(Je(e,n,"write to private field"),r?r.call(e,t):n.set(e,t),t),N=(e,n,t)=>(Je(e,n,"access private method"),t);import{S as zn,p as zt,r as Y,s as dt,a as Ee,n as ct,i as gt,b as Tt,t as Tn,f as Bn,c as qn,d as Bt,e as sn,g as m,h as Un,u as Qn,j as g,q as Kn,$ as Wn,v as Xn}from"./app-6tQaYA4F.js";import{D as Jn,a as Yn,C as ln,b as Zn,c as Ye,d as er,u as pe,R as tr,P as nr,O as rr,e as or,f as an,g as sr,A as un,h as ir,i as lr,j as ar,k as ur,F as dr,l as cr,m as gr,n as fr,o as pr,X as dn}from"./app-layout-BJ8bpTt3.js";import{c as Be,a as G,B as he,S as hr,b as mr,d as Ae,u as cn,e as vr}from"./app-logo-icon-1-HHu1lJ.js";import{I as jt,L as Sr}from"./label-DQ52iX3z.js";import{P as Z}from"./index-DRvS8yvm.js";import{u as xr,c as Cr,a as Ve,P as gn}from"./index-DVE2jbsR.js";import{C as wr}from"./check-Csny5E_1.js";/* empty css            */var U,M,Ne,q,ce,we,te,ne,ke,Re,_e,ge,fe,re,ye,I,be,ft,pt,ht,mt,vt,St,xt,fn,on,Rr=(on=class extends zn{constructor(n,t){super();z(this,I);z(this,U);z(this,M);z(this,Ne);z(this,q);z(this,ce);z(this,we);z(this,te);z(this,ne);z(this,ke);z(this,Re);z(this,_e);z(this,ge);z(this,fe);z(this,re);z(this,ye,new Set);this.options=t,A(this,U,n),A(this,ne,null),A(this,te,zt()),this.options.experimental_prefetchInRender||x(this,te).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,M).addObserver(this),qt(x(this,M),this.options)?N(this,I,be).call(this):this.updateResult(),N(this,I,mt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ct(x(this,M),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ct(x(this,M),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,N(this,I,vt).call(this),N(this,I,St).call(this),x(this,M).removeObserver(this)}setOptions(n){const t=this.options,r=x(this,M);if(this.options=x(this,U).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Y(this.options.enabled,x(this,M))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");N(this,I,xt).call(this),x(this,M).setOptions(this.options),t._defaulted&&!dt(this.options,t)&&x(this,U).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,M),observer:this});const o=this.hasListeners();o&&Ut(x(this,M),r,this.options,t)&&N(this,I,be).call(this),this.updateResult(),o&&(x(this,M)!==r||Y(this.options.enabled,x(this,M))!==Y(t.enabled,x(this,M))||Ee(this.options.staleTime,x(this,M))!==Ee(t.staleTime,x(this,M)))&&N(this,I,ft).call(this);const s=N(this,I,pt).call(this);o&&(x(this,M)!==r||Y(this.options.enabled,x(this,M))!==Y(t.enabled,x(this,M))||s!==x(this,re))&&N(this,I,ht).call(this,s)}getOptimisticResult(n){const t=x(this,U).getQueryCache().build(x(this,U),n),r=this.createResult(t,n);return yr(this,r)&&(A(this,q,r),A(this,we,this.options),A(this,ce,x(this,M).state)),r}getCurrentResult(){return x(this,q)}trackResult(n,t){return new Proxy(n,{get:(r,o)=>(this.trackProp(o),t==null||t(o),Reflect.get(r,o))})}trackProp(n){x(this,ye).add(n)}getCurrentQuery(){return x(this,M)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const t=x(this,U).defaultQueryOptions(n),r=x(this,U).getQueryCache().build(x(this,U),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(n){return N(this,I,be).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,q)))}createResult(n,t){var ue;const r=x(this,M),o=this.options,s=x(this,q),i=x(this,ce),l=x(this,we),d=n!==r?n.state:x(this,Ne),{state:u}=n;let p={...u},f=!1,c;if(t._optimisticResults){const L=this.hasListeners(),W=!L&&qt(n,t),J=L&&Ut(n,r,t,o);(W||J)&&(p={...p,...qn(u.data,n.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:h,errorUpdatedAt:v,status:C}=p;c=p.data;let w=!1;if(t.placeholderData!==void 0&&c===void 0&&C==="pending"){let L;s!=null&&s.isPlaceholderData&&t.placeholderData===(l==null?void 0:l.placeholderData)?(L=s.data,w=!0):L=typeof t.placeholderData=="function"?t.placeholderData((ue=x(this,_e))==null?void 0:ue.state.data,x(this,_e)):t.placeholderData,L!==void 0&&(C="success",c=Bt(s==null?void 0:s.data,L,t),f=!0)}if(t.select&&c!==void 0&&!w)if(s&&c===(i==null?void 0:i.data)&&t.select===x(this,ke))c=x(this,Re);else try{A(this,ke,t.select),c=t.select(c),c=Bt(s==null?void 0:s.data,c,t),A(this,Re,c),A(this,ne,null)}catch(L){A(this,ne,L)}x(this,ne)&&(h=x(this,ne),c=x(this,Re),v=Date.now(),C="error");const F=p.fetchStatus==="fetching",$=C==="pending",k=C==="error",V=$&&F,b=c!==void 0,H={status:C,fetchStatus:p.fetchStatus,isPending:$,isSuccess:C==="success",isError:k,isInitialLoading:V,isLoading:V,data:c,dataUpdatedAt:p.dataUpdatedAt,error:h,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:F,isRefetching:F&&!$,isLoadingError:k&&!b,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:k&&b,isStale:$t(n,t),refetch:this.refetch,promise:x(this,te)};if(this.options.experimental_prefetchInRender){const L=de=>{H.status==="error"?de.reject(H.error):H.data!==void 0&&de.resolve(H.data)},W=()=>{const de=A(this,te,H.promise=zt());L(de)},J=x(this,te);switch(J.status){case"pending":n.queryHash===r.queryHash&&L(J);break;case"fulfilled":(H.status==="error"||H.data!==J.value)&&W();break;case"rejected":(H.status!=="error"||H.error!==J.reason)&&W();break}}return H}updateResult(){const n=x(this,q),t=this.createResult(x(this,M),this.options);if(A(this,ce,x(this,M).state),A(this,we,this.options),x(this,ce).data!==void 0&&A(this,_e,x(this,M)),dt(t,n))return;A(this,q,t);const r=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!x(this,ye).size)return!0;const i=new Set(s??x(this,ye));return this.options.throwOnError&&i.add("error"),Object.keys(x(this,q)).some(l=>{const a=l;return x(this,q)[a]!==n[a]&&i.has(a)})};N(this,I,fn).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&N(this,I,mt).call(this)}},U=new WeakMap,M=new WeakMap,Ne=new WeakMap,q=new WeakMap,ce=new WeakMap,we=new WeakMap,te=new WeakMap,ne=new WeakMap,ke=new WeakMap,Re=new WeakMap,_e=new WeakMap,ge=new WeakMap,fe=new WeakMap,re=new WeakMap,ye=new WeakMap,I=new WeakSet,be=function(n){N(this,I,xt).call(this);let t=x(this,M).fetch(this.options,n);return n!=null&&n.throwOnError||(t=t.catch(ct)),t},ft=function(){N(this,I,vt).call(this);const n=Ee(this.options.staleTime,x(this,M));if(gt||x(this,q).isStale||!Tt(n))return;const r=Tn(x(this,q).dataUpdatedAt,n)+1;A(this,ge,setTimeout(()=>{x(this,q).isStale||this.updateResult()},r))},pt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,M)):this.options.refetchInterval)??!1},ht=function(n){N(this,I,St).call(this),A(this,re,n),!(gt||Y(this.options.enabled,x(this,M))===!1||!Tt(x(this,re))||x(this,re)===0)&&A(this,fe,setInterval(()=>{(this.options.refetchIntervalInBackground||Bn.isFocused())&&N(this,I,be).call(this)},x(this,re)))},mt=function(){N(this,I,ft).call(this),N(this,I,ht).call(this,N(this,I,pt).call(this))},vt=function(){x(this,ge)&&(clearTimeout(x(this,ge)),A(this,ge,void 0))},St=function(){x(this,fe)&&(clearInterval(x(this,fe)),A(this,fe,void 0))},xt=function(){const n=x(this,U).getQueryCache().build(x(this,U),this.options);if(n===x(this,M))return;const t=x(this,M);A(this,M,n),A(this,Ne,n.state),this.hasListeners()&&(t==null||t.removeObserver(this),n.addObserver(this))},fn=function(n){sn.batch(()=>{n.listeners&&this.listeners.forEach(t=>{t(x(this,q))}),x(this,U).getQueryCache().notify({query:x(this,M),type:"observerResultsUpdated"})})},on);function _r(e,n){return Y(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function qt(e,n){return _r(e,n)||e.state.data!==void 0&&Ct(e,n,n.refetchOnMount)}function Ct(e,n,t){if(Y(n.enabled,e)!==!1&&Ee(n.staleTime,e)!=="static"){const r=typeof t=="function"?t(e):t;return r==="always"||r!==!1&&$t(e,n)}return!1}function Ut(e,n,t,r){return(e!==n||Y(r.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&$t(e,t)}function $t(e,n){return Y(n.enabled,e)!==!1&&e.isStaleByTime(Ee(n.staleTime,e))}function yr(e,n){return!dt(e.getCurrentResult(),n)}var pn=m.createContext(!1),Fr=()=>m.useContext(pn);pn.Provider;function Pr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mr=m.createContext(Pr()),jr=()=>m.useContext(Mr),$r=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},br=e=>{m.useEffect(()=>{e.clearReset()},[e])},Ir=({result:e,errorResetBoundary:n,throwOnError:t,query:r,suspense:o})=>e.isError&&!n.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||Un(t,[e.error,r])),Er=e=>{if(e.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),t=e.staleTime;e.staleTime=typeof t=="function"?(...r)=>n(t(...r)):n(t),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Vr=(e,n)=>e.isLoading&&e.isFetching&&!n,Dr=(e,n)=>(e==null?void 0:e.suspense)&&n.isPending,Qt=(e,n,t)=>n.fetchOptimistic(e).catch(()=>{t.clearReset()});function Ar(e,n,t){var p,f,c,h,v;const r=Fr(),o=jr(),s=Qn(),i=s.defaultQueryOptions(e);(f=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,i),i._optimisticResults=r?"isRestoring":"optimistic",Er(i),$r(i,o),br(o);const l=!s.getQueryCache().get(i.queryHash),[a]=m.useState(()=>new n(s,i)),d=a.getOptimisticResult(i),u=!r&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(C=>{const w=u?a.subscribe(sn.batchCalls(C)):ct;return a.updateResult(),w},[a,u]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),m.useEffect(()=>{a.setOptions(i)},[i,a]),Dr(i,d))throw Qt(i,a,o);if(Ir({result:d,errorResetBoundary:o,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw d.error;if((h=(c=s.getDefaultOptions().queries)==null?void 0:c._experimental_afterQuery)==null||h.call(c,i,d),i.experimental_prefetchInRender&&!gt&&Vr(d,r)){const C=l?Qt(i,a,o):(v=s.getQueryCache().get(i.queryHash))==null?void 0:v.promise;C==null||C.catch(ct).finally(()=>{a.updateResult()})}return i.notifyOnChangeProps?d:a.trackResult(d)}function qe(e,n){return Ar(e,Rr)}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Kt=Be("ArrowDown",Nr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Wt=Be("ArrowUp",kr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Lr=Be("EyeOff",Or);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Hr=Be("Search",Gr);function zr({className:e,...n}){return g.jsx("div",{"data-slot":"skeleton",className:G("bg-primary/10 animate-pulse rounded-md",e),...n})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function oe(e,n){return typeof e=="function"?e(n):e}function K(e,n){return t=>{n.setState(r=>({...r,[e]:oe(t,r[e])}))}}function Ue(e){return e instanceof Function}function Tr(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Br(e,n){const t=[],r=o=>{o.forEach(s=>{t.push(s);const i=n(s);i!=null&&i.length&&r(i)})};return r(e),t}function _(e,n,t){let r=[],o;return s=>{let i;t.key&&t.debug&&(i=Date.now());const l=e(s);if(!(l.length!==r.length||l.some((u,p)=>r[p]!==u)))return o;r=l;let d;if(t.key&&t.debug&&(d=Date.now()),o=n(...l),t==null||t.onChange==null||t.onChange(o),t.key&&t.debug&&t!=null&&t.debug()){const u=Math.round((Date.now()-i)*100)/100,p=Math.round((Date.now()-d)*100)/100,f=p/16,c=(h,v)=>{for(h=String(h);h.length<v;)h=" "+h;return h};console.info(`%c⏱ ${c(p,5)} /${c(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,t==null?void 0:t.key)}return o}}function y(e,n,t,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[n]},key:!1,onChange:r}}function qr(e,n,t,r){const o=()=>{var i;return(i=s.getValue())!=null?i:e.options.renderFallbackValue},s={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(r),renderValue:o,getContext:_(()=>[e,t,n,s],(i,l,a,d)=>({table:i,column:l,row:a,cell:d,getValue:d.getValue,renderValue:d.renderValue}),y(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(s,t,n,e)},{}),s}function Ur(e,n,t,r){var o,s;const l={...e._getDefaultColumnDef(),...n},a=l.accessorKey;let d=(o=(s=l.id)!=null?s:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?o:typeof l.header=="string"?l.header:void 0,u;if(l.accessorFn?u=l.accessorFn:a&&(a.includes(".")?u=f=>{let c=f;for(const v of a.split(".")){var h;c=(h=c)==null?void 0:h[v]}return c}:u=f=>f[l.accessorKey]),!d)throw new Error;let p={id:`${String(d)}`,accessorFn:u,parent:r,depth:t,columnDef:l,columns:[],getFlatColumns:_(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(c=>c.getFlatColumns())]},y(e.options,"debugColumns")),getLeafColumns:_(()=>[e._getOrderColumnsFn()],f=>{var c;if((c=p.columns)!=null&&c.length){let h=p.columns.flatMap(v=>v.getLeafColumns());return f(h)}return[p]},y(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const T="debugHeaders";function Xt(e,n,t){var r;let s={id:(r=t.id)!=null?r:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],l=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(l),i.push(a)};return l(s),i},getContext:()=>({table:e,header:s,column:n})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(s,e)}),s}const Qr={createTable:e=>{e.getHeaderGroups=_(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,o)=>{var s,i;const l=(s=r==null?void 0:r.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?s:[],a=(i=o==null?void 0:o.map(p=>t.find(f=>f.id===p)).filter(Boolean))!=null?i:[],d=t.filter(p=>!(r!=null&&r.includes(p.id))&&!(o!=null&&o.includes(p.id)));return He(n,[...l,...d,...a],e)},y(e.options,T)),e.getCenterHeaderGroups=_(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,o)=>(t=t.filter(s=>!(r!=null&&r.includes(s.id))&&!(o!=null&&o.includes(s.id))),He(n,t,e,"center")),y(e.options,T)),e.getLeftHeaderGroups=_(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,r)=>{var o;const s=(o=r==null?void 0:r.map(i=>t.find(l=>l.id===i)).filter(Boolean))!=null?o:[];return He(n,s,e,"left")},y(e.options,T)),e.getRightHeaderGroups=_(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,r)=>{var o;const s=(o=r==null?void 0:r.map(i=>t.find(l=>l.id===i)).filter(Boolean))!=null?o:[];return He(n,s,e,"right")},y(e.options,T)),e.getFooterGroups=_(()=>[e.getHeaderGroups()],n=>[...n].reverse(),y(e.options,T)),e.getLeftFooterGroups=_(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),y(e.options,T)),e.getCenterFooterGroups=_(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),y(e.options,T)),e.getRightFooterGroups=_(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),y(e.options,T)),e.getFlatHeaders=_(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),y(e.options,T)),e.getLeftFlatHeaders=_(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),y(e.options,T)),e.getCenterFlatHeaders=_(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),y(e.options,T)),e.getRightFlatHeaders=_(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),y(e.options,T)),e.getCenterLeafHeaders=_(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),y(e.options,T)),e.getLeftLeafHeaders=_(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),y(e.options,T)),e.getRightLeafHeaders=_(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),y(e.options,T)),e.getLeafHeaders=_(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,r)=>{var o,s,i,l,a,d;return[...(o=(s=n[0])==null?void 0:s.headers)!=null?o:[],...(i=(l=t[0])==null?void 0:l.headers)!=null?i:[],...(a=(d=r[0])==null?void 0:d.headers)!=null?a:[]].map(u=>u.getLeafHeaders()).flat()},y(e.options,T))}};function He(e,n,t,r){var o,s;let i=0;const l=function(f,c){c===void 0&&(c=1),i=Math.max(i,c),f.filter(h=>h.getIsVisible()).forEach(h=>{var v;(v=h.columns)!=null&&v.length&&l(h.columns,c+1)},0)};l(e);let a=[];const d=(f,c)=>{const h={depth:c,id:[r,`${c}`].filter(Boolean).join("_"),headers:[]},v=[];f.forEach(C=>{const w=[...v].reverse()[0],F=C.column.depth===h.depth;let $,k=!1;if(F&&C.column.parent?$=C.column.parent:($=C.column,k=!0),w&&(w==null?void 0:w.column)===$)w.subHeaders.push(C);else{const V=Xt(t,$,{id:[r,c,$.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${v.filter(b=>b.column===$).length}`:void 0,depth:c,index:v.length});V.subHeaders.push(C),v.push(V)}h.headers.push(C),C.headerGroup=h}),a.push(h),c>0&&d(v,c-1)},u=n.map((f,c)=>Xt(t,f,{depth:i,index:c}));d(u,i-1),a.reverse();const p=f=>f.filter(h=>h.column.getIsVisible()).map(h=>{let v=0,C=0,w=[0];h.subHeaders&&h.subHeaders.length?(w=[],p(h.subHeaders).forEach($=>{let{colSpan:k,rowSpan:V}=$;v+=k,w.push(V)})):v=1;const F=Math.min(...w);return C=C+F,h.colSpan=v,h.rowSpan=C,{colSpan:v,rowSpan:C}});return p((o=(s=a[0])==null?void 0:s.headers)!=null?o:[]),a}const bt=(e,n,t,r,o,s,i)=>{let l={id:n,index:r,original:t,depth:o,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(l._valuesCache.hasOwnProperty(a))return l._valuesCache[a];const d=e.getColumn(a);if(d!=null&&d.accessorFn)return l._valuesCache[a]=d.accessorFn(l.original,r),l._valuesCache[a]},getUniqueValues:a=>{if(l._uniqueValuesCache.hasOwnProperty(a))return l._uniqueValuesCache[a];const d=e.getColumn(a);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[a]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[a]):(l._uniqueValuesCache[a]=[l.getValue(a)],l._uniqueValuesCache[a])},renderValue:a=>{var d;return(d=l.getValue(a))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Br(l.subRows,a=>a.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let a=[],d=l;for(;;){const u=d.getParentRow();if(!u)break;a.push(u),d=u}return a.reverse()},getAllCells:_(()=>[e.getAllLeafColumns()],a=>a.map(d=>qr(e,l,d,d.id)),y(e.options,"debugRows")),_getAllCellsByColumnId:_(()=>[l.getAllCells()],a=>a.reduce((d,u)=>(d[u.column.id]=u,d),{}),y(e.options,"debugRows"))};for(let a=0;a<e._features.length;a++){const d=e._features[a];d==null||d.createRow==null||d.createRow(l,e)}return l},Kr={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},hn=(e,n,t)=>{var r,o;const s=t==null||(r=t.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(n))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(s))};hn.autoRemove=e=>X(e);const mn=(e,n,t)=>{var r;return!!(!((r=e.getValue(n))==null||(r=r.toString())==null)&&r.includes(t))};mn.autoRemove=e=>X(e);const vn=(e,n,t)=>{var r;return((r=e.getValue(n))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(t==null?void 0:t.toLowerCase())};vn.autoRemove=e=>X(e);const Sn=(e,n,t)=>{var r;return(r=e.getValue(n))==null?void 0:r.includes(t)};Sn.autoRemove=e=>X(e);const xn=(e,n,t)=>!t.some(r=>{var o;return!((o=e.getValue(n))!=null&&o.includes(r))});xn.autoRemove=e=>X(e)||!(e!=null&&e.length);const Cn=(e,n,t)=>t.some(r=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(r)});Cn.autoRemove=e=>X(e)||!(e!=null&&e.length);const wn=(e,n,t)=>e.getValue(n)===t;wn.autoRemove=e=>X(e);const Rn=(e,n,t)=>e.getValue(n)==t;Rn.autoRemove=e=>X(e);const It=(e,n,t)=>{let[r,o]=t;const s=e.getValue(n);return s>=r&&s<=o};It.resolveFilterValue=e=>{let[n,t]=e,r=typeof n!="number"?parseFloat(n):n,o=typeof t!="number"?parseFloat(t):t,s=n===null||Number.isNaN(r)?-1/0:r,i=t===null||Number.isNaN(o)?1/0:o;if(s>i){const l=s;s=i,i=l}return[s,i]};It.autoRemove=e=>X(e)||X(e[0])&&X(e[1]);const ee={includesString:hn,includesStringSensitive:mn,equalsString:vn,arrIncludes:Sn,arrIncludesAll:xn,arrIncludesSome:Cn,equals:wn,weakEquals:Rn,inNumberRange:It};function X(e){return e==null||e===""}const Wr={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:K("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);return typeof r=="string"?ee.includesString:typeof r=="number"?ee.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ee.equals:Array.isArray(r)?ee.arrIncludes:ee.weakEquals},e.getFilterFn=()=>{var t,r;return Ue(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(r=n.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?t:ee[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,r,o;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((r=n.options.enableColumnFilters)!=null?r:!0)&&((o=n.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(r=>r.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,r;return(t=(r=n.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(r=>{const o=e.getFilterFn(),s=r==null?void 0:r.find(u=>u.id===e.id),i=oe(t,s?s.value:void 0);if(Jt(o,i,e)){var l;return(l=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?l:[]}const a={id:e.id,value:i};if(s){var d;return(d=r==null?void 0:r.map(u=>u.id===e.id?a:u))!=null?d:[]}return r!=null&&r.length?[...r,a]:[a]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),r=o=>{var s;return(s=oe(n,o))==null?void 0:s.filter(i=>{const l=t.find(a=>a.id===i.id);if(l){const a=l.getFilterFn();if(Jt(a,i.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=n=>{var t,r;e.setColumnFilters(n?[]:(t=(r=e.initialState)==null?void 0:r.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Jt(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Xr=(e,n,t)=>t.reduce((r,o)=>{const s=o.getValue(e);return r+(typeof s=="number"?s:0)},0),Jr=(e,n,t)=>{let r;return t.forEach(o=>{const s=o.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Yr=(e,n,t)=>{let r;return t.forEach(o=>{const s=o.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},Zr=(e,n,t)=>{let r,o;return t.forEach(s=>{const i=s.getValue(e);i!=null&&(r===void 0?i>=i&&(r=o=i):(r>i&&(r=i),o<i&&(o=i)))}),[r,o]},eo=(e,n)=>{let t=0,r=0;if(n.forEach(o=>{let s=o.getValue(e);s!=null&&(s=+s)>=s&&(++t,r+=s)}),t)return r/t},to=(e,n)=>{if(!n.length)return;const t=n.map(s=>s.getValue(e));if(!Tr(t))return;if(t.length===1)return t[0];const r=Math.floor(t.length/2),o=t.sort((s,i)=>s-i);return t.length%2!==0?o[r]:(o[r-1]+o[r])/2},no=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),ro=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,oo=(e,n)=>n.length,Ze={sum:Xr,min:Jr,max:Yr,extent:Zr,mean:eo,median:to,unique:no,uniqueCount:ro,count:oo},so={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:K("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(r=>r!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,r;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((r=n.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);if(typeof r=="number")return Ze.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Ze.extent},e.getAggregationFn=()=>{var t,r;if(!e)throw new Error;return Ue(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(r=n.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?t:Ze[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,r;e.setGrouping(n?[]:(t=(r=e.initialState)==null?void 0:r.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const r=n.getColumn(t);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[t]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,r)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=t.subRows)!=null&&o.length)}}};function io(e,n,t){if(!(n!=null&&n.length)||!t)return e;const r=e.filter(s=>!n.includes(s.id));return t==="remove"?r:[...n.map(s=>e.find(i=>i.id===s)).filter(Boolean),...r]}const lo={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:K("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=_(t=>[De(n,t)],t=>t.findIndex(r=>r.id===e.id),y(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var r;return((r=De(n,t)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=t=>{var r;const o=De(n,t);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=_(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,r)=>o=>{let s=[];if(!(n!=null&&n.length))s=o;else{const i=[...n],l=[...o];for(;l.length&&i.length;){const a=i.shift(),d=l.findIndex(u=>u.id===a);d>-1&&s.push(l.splice(d,1)[0])}s=[...s,...l]}return io(s,t,r)},y(e.options,"debugTable"))}},et=()=>({left:[],right:[]}),ao={getInitialState:e=>({columnPinning:et(),...e}),getDefaultOptions:e=>({onColumnPinningChange:K("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);n.setColumnPinning(o=>{var s,i;if(t==="right"){var l,a;return{left:((l=o==null?void 0:o.left)!=null?l:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((a=o==null?void 0:o.right)!=null?a:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(t==="left"){var d,u;return{left:[...((d=o==null?void 0:o.left)!=null?d:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((u=o==null?void 0:o.right)!=null?u:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((s=o==null?void 0:o.left)!=null?s:[]).filter(p=>!(r!=null&&r.includes(p))),right:((i=o==null?void 0:o.right)!=null?i:[]).filter(p=>!(r!=null&&r.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,s,i;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((s=(i=n.options.enableColumnPinning)!=null?i:n.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(l=>l.id),{left:r,right:o}=n.getState().columnPinning,s=t.some(l=>r==null?void 0:r.includes(l)),i=t.some(l=>o==null?void 0:o.includes(l));return s?"left":i?"right":!1},e.getPinnedIndex=()=>{var t,r;const o=e.getIsPinned();return o?(t=(r=n.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=_(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,r,o)=>{const s=[...r??[],...o??[]];return t.filter(i=>!s.includes(i.column.id))},y(n.options,"debugRows")),e.getLeftVisibleCells=_(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,r)=>(r??[]).map(s=>t.find(i=>i.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),y(n.options,"debugRows")),e.getRightVisibleCells=_(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,r)=>(r??[]).map(s=>t.find(i=>i.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),y(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,r;return e.setColumnPinning(n?et():(t=(r=e.initialState)==null?void 0:r.columnPinning)!=null?t:et())},e.getIsSomeColumnsPinned=n=>{var t;const r=e.getState().columnPinning;if(!n){var o,s;return!!((o=r.left)!=null&&o.length||(s=r.right)!=null&&s.length)}return!!((t=r[n])!=null&&t.length)},e.getLeftLeafColumns=_(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(r=>n.find(o=>o.id===r)).filter(Boolean),y(e.options,"debugColumns")),e.getRightLeafColumns=_(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(r=>n.find(o=>o.id===r)).filter(Boolean),y(e.options,"debugColumns")),e.getCenterLeafColumns=_(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r)=>{const o=[...t??[],...r??[]];return n.filter(s=>!o.includes(s.id))},y(e.options,"debugColumns"))}};function uo(e){return e||(typeof document<"u"?document:null)}const ze={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},tt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),co={getDefaultColumnDef:()=>ze,getInitialState:e=>({columnSizing:{},columnSizingInfo:tt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:K("columnSizing",e),onColumnSizingInfoChange:K("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,r,o;const s=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:ze.minSize,(r=s??e.columnDef.size)!=null?r:ze.size),(o=e.columnDef.maxSize)!=null?o:ze.maxSize)},e.getStart=_(t=>[t,De(n,t),n.getState().columnSizing],(t,r)=>r.slice(0,e.getIndex(t)).reduce((o,s)=>o+s.getSize(),0),y(n.options,"debugColumns")),e.getAfter=_(t=>[t,De(n,t),n.getState().columnSizing],(t,r)=>r.slice(e.getIndex(t)+1).reduce((o,s)=>o+s.getSize(),0),y(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:r,...o}=t;return o})},e.getCanResize=()=>{var t,r;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((r=n.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var s;t+=(s=o.column.getSize())!=null?s:0}};return r(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const r=n.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return s=>{if(!r||!o||(s.persist==null||s.persist(),nt(s)&&s.touches&&s.touches.length>1))return;const i=e.getSize(),l=e?e.getLeafHeaders().map(w=>[w.column.id,w.column.getSize()]):[[r.id,r.getSize()]],a=nt(s)?Math.round(s.touches[0].clientX):s.clientX,d={},u=(w,F)=>{typeof F=="number"&&(n.setColumnSizingInfo($=>{var k,V;const b=n.options.columnResizeDirection==="rtl"?-1:1,O=(F-((k=$==null?void 0:$.startOffset)!=null?k:0))*b,H=Math.max(O/((V=$==null?void 0:$.startSize)!=null?V:0),-.999999);return $.columnSizingStart.forEach(ue=>{let[L,W]=ue;d[L]=Math.round(Math.max(W+W*H,0)*100)/100}),{...$,deltaOffset:O,deltaPercentage:H}}),(n.options.columnResizeMode==="onChange"||w==="end")&&n.setColumnSizing($=>({...$,...d})))},p=w=>u("move",w),f=w=>{u("end",w),n.setColumnSizingInfo(F=>({...F,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},c=uo(t),h={moveHandler:w=>p(w.clientX),upHandler:w=>{c==null||c.removeEventListener("mousemove",h.moveHandler),c==null||c.removeEventListener("mouseup",h.upHandler),f(w.clientX)}},v={moveHandler:w=>(w.cancelable&&(w.preventDefault(),w.stopPropagation()),p(w.touches[0].clientX),!1),upHandler:w=>{var F;c==null||c.removeEventListener("touchmove",v.moveHandler),c==null||c.removeEventListener("touchend",v.upHandler),w.cancelable&&(w.preventDefault(),w.stopPropagation()),f((F=w.touches[0])==null?void 0:F.clientX)}},C=go()?{passive:!1}:!1;nt(s)?(c==null||c.addEventListener("touchmove",v.moveHandler,C),c==null||c.addEventListener("touchend",v.upHandler,C)):(c==null||c.addEventListener("mousemove",h.moveHandler,C),c==null||c.addEventListener("mouseup",h.upHandler,C)),n.setColumnSizingInfo(w=>({...w,startOffset:a,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?tt():(t=e.initialState.columnSizingInfo)!=null?t:tt())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0}}};let Te=null;function go(){if(typeof Te=="boolean")return Te;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return Te=e,Te}function nt(e){return e.type==="touchstart"}const fo={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:K("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(r=>({...r,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,r;const o=e.columns;return(t=o.length?o.some(s=>s.getIsVisible()):(r=n.getState().columnVisibility)==null?void 0:r[e.id])!=null?t:!0},e.getCanHide=()=>{var t,r;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((r=n.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=_(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(r=>r.column.getIsVisible()),y(n.options,"debugRows")),e.getVisibleCells=_(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,r,o)=>[...t,...r,...o],y(n.options,"debugRows"))},createTable:e=>{const n=(t,r)=>_(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),y(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var r;e.setColumnVisibility(t?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=t=>{var r;t=(r=t)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,s)=>({...o,[s.id]:t||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;e.toggleAllColumnsVisible((r=t.target)==null?void 0:r.checked)}}};function De(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const po={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},ho={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:K("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const r=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,r,o,s;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((r=n.options.enableGlobalFilter)!=null?r:!0)&&((o=n.options.enableFilters)!=null?o:!0)&&((s=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ee.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:r}=e.options;return Ue(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[r])!=null?n:ee[r]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},mo={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:K("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var r,o;if(!n){e._queue(()=>{n=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,s;e.setExpanded(r?{}:(o=(s=e.initialState)==null?void 0:s.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const i=s.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(r=>{var o;const s=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(n.getRowModel().rowsById).forEach(l=>{i[l]=!0}):i=r,t=(o=t)!=null?o:!s,!s&&t)return{...i,[e.id]:!0};if(s&&!t){const{[e.id]:l,...a}=i;return a}return r})},e.getIsExpanded=()=>{var t;const r=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var t,r,o;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((r=n.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let t=!0,r=e;for(;t&&r.parentId;)r=n.getRow(r.parentId,!0),t=r.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},wt=0,Rt=10,rt=()=>({pageIndex:wt,pageSize:Rt}),vo={getInitialState:e=>({...e,pagination:{...rt(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:K("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var r,o;if(!n){e._queue(()=>{n=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=r=>{const o=s=>oe(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?rt():(o=e.initialState.pagination)!=null?o:rt())},e.setPageIndex=r=>{e.setPagination(o=>{let s=oe(r,o.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,i)),{...o,pageIndex:s}})},e.resetPageIndex=r=>{var o,s;e.setPageIndex(r?wt:(o=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?o:wt)},e.resetPageSize=r=>{var o,s;e.setPageSize(r?Rt:(o=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?o:Rt)},e.setPageSize=r=>{e.setPagination(o=>{const s=Math.max(1,oe(r,o.pageSize)),i=o.pageSize*o.pageIndex,l=Math.floor(i/s);return{...o,pageIndex:l,pageSize:s}})},e.setPageCount=r=>e.setPagination(o=>{var s;let i=oe(r,(s=e.options.pageCount)!=null?s:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...o,pageCount:i}}),e.getPageOptions=_(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((s,i)=>i)),o},y(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},ot=()=>({top:[],bottom:[]}),So={getInitialState:e=>({rowPinning:ot(),...e}),getDefaultOptions:e=>({onRowPinningChange:K("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,r,o)=>{const s=r?e.getLeafRows().map(a=>{let{id:d}=a;return d}):[],i=o?e.getParentRows().map(a=>{let{id:d}=a;return d}):[],l=new Set([...i,e.id,...s]);n.setRowPinning(a=>{var d,u;if(t==="bottom"){var p,f;return{top:((p=a==null?void 0:a.top)!=null?p:[]).filter(v=>!(l!=null&&l.has(v))),bottom:[...((f=a==null?void 0:a.bottom)!=null?f:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)]}}if(t==="top"){var c,h;return{top:[...((c=a==null?void 0:a.top)!=null?c:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)],bottom:((h=a==null?void 0:a.bottom)!=null?h:[]).filter(v=>!(l!=null&&l.has(v)))}}return{top:((d=a==null?void 0:a.top)!=null?d:[]).filter(v=>!(l!=null&&l.has(v))),bottom:((u=a==null?void 0:a.bottom)!=null?u:[]).filter(v=>!(l!=null&&l.has(v)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:r,enablePinning:o}=n.options;return typeof r=="function"?r(e):(t=r??o)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:r,bottom:o}=n.getState().rowPinning,s=t.some(l=>r==null?void 0:r.includes(l)),i=t.some(l=>o==null?void 0:o.includes(l));return s?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var t,r;const o=e.getIsPinned();if(!o)return-1;const s=(t=o==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(i=>{let{id:l}=i;return l});return(r=s==null?void 0:s.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,r;return e.setRowPinning(n?ot():(t=(r=e.initialState)==null?void 0:r.rowPinning)!=null?t:ot())},e.getIsSomeRowsPinned=n=>{var t;const r=e.getState().rowPinning;if(!n){var o,s;return!!((o=r.top)!=null&&o.length||(s=r.bottom)!=null&&s.length)}return!!((t=r[n])!=null&&t.length)},e._getPinnedRows=(n,t,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(t??[]).map(i=>{const l=e.getRow(i,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(i=>n.find(l=>l.id===i))).filter(Boolean).map(i=>({...i,position:r}))},e.getTopRows=_(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),y(e.options,"debugRows")),e.getBottomRows=_(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),y(e.options,"debugRows")),e.getCenterRows=_(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,r)=>{const o=new Set([...t??[],...r??[]]);return n.filter(s=>!o.has(s.id))},y(e.options,"debugRows"))}},xo={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:K("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const r={...t},o=e.getPreGroupedRowModel().flatRows;return n?o.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):o.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const r=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),o={...t};return e.getRowModel().rows.forEach(s=>{_t(o,s.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=_(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?st(e,t):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getFilteredSelectedRowModel=_(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?st(e,t):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getGroupedSelectedRowModel=_(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?st(e,t):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let r=!!(n.length&&Object.keys(t).length);return r&&n.some(o=>o.getCanSelect()&&!t[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:t}=e.getState();let r=!!n.length;return r&&n.some(o=>!t[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,r)=>{const o=e.getIsSelected();n.setRowSelection(s=>{var i;if(t=typeof t<"u"?t:!o,e.getCanSelect()&&o===t)return s;const l={...s};return _t(l,e.id,t,(i=r==null?void 0:r.selectChildren)!=null?i:!0,n),l})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return Et(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return yt(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return yt(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return r=>{var o;t&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},_t=(e,n,t,r,o)=>{var s;const i=o.getRow(n,!0);t?(i.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),i.getCanSelect()&&(e[n]=!0)):delete e[n],r&&(s=i.subRows)!=null&&s.length&&i.getCanSelectSubRows()&&i.subRows.forEach(l=>_t(e,l.id,t,r,o))};function st(e,n){const t=e.getState().rowSelection,r=[],o={},s=function(i,l){return i.map(a=>{var d;const u=Et(a,t);if(u&&(r.push(a),o[a.id]=a),(d=a.subRows)!=null&&d.length&&(a={...a,subRows:s(a.subRows)}),u)return a}).filter(Boolean)};return{rows:s(n.rows),flatRows:r,rowsById:o}}function Et(e,n){var t;return(t=n[e.id])!=null?t:!1}function yt(e,n,t){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,s=!1;return e.subRows.forEach(i=>{if(!(s&&!o)&&(i.getCanSelect()&&(Et(i,n)?s=!0:o=!1),i.subRows&&i.subRows.length)){const l=yt(i,n);l==="all"?s=!0:(l==="some"&&(s=!0),o=!1)}}),o?"all":s?"some":!1}const Ft=/([0-9]+)/gm,Co=(e,n,t)=>_n(ie(e.getValue(t)).toLowerCase(),ie(n.getValue(t)).toLowerCase()),wo=(e,n,t)=>_n(ie(e.getValue(t)),ie(n.getValue(t))),Ro=(e,n,t)=>Vt(ie(e.getValue(t)).toLowerCase(),ie(n.getValue(t)).toLowerCase()),_o=(e,n,t)=>Vt(ie(e.getValue(t)),ie(n.getValue(t))),yo=(e,n,t)=>{const r=e.getValue(t),o=n.getValue(t);return r>o?1:r<o?-1:0},Fo=(e,n,t)=>Vt(e.getValue(t),n.getValue(t));function Vt(e,n){return e===n?0:e>n?1:-1}function ie(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function _n(e,n){const t=e.split(Ft).filter(Boolean),r=n.split(Ft).filter(Boolean);for(;t.length&&r.length;){const o=t.shift(),s=r.shift(),i=parseInt(o,10),l=parseInt(s,10),a=[i,l].sort();if(isNaN(a[0])){if(o>s)return 1;if(s>o)return-1;continue}if(isNaN(a[1]))return isNaN(i)?-1:1;if(i>l)return 1;if(l>i)return-1}return t.length-r.length}const je={alphanumeric:Co,alphanumericCaseSensitive:wo,text:Ro,textCaseSensitive:_o,datetime:yo,basic:Fo},Po={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:K("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of t){const s=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return je.datetime;if(typeof s=="string"&&(r=!0,s.split(Ft).length>1))return je.alphanumeric}return r?je.text:je.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,r;if(!e)throw new Error;return Ue(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(r=n.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?t:je[e.columnDef.sortingFn]},e.toggleSorting=(t,r)=>{const o=e.getNextSortingOrder(),s=typeof t<"u"&&t!==null;n.setSorting(i=>{const l=i==null?void 0:i.find(c=>c.id===e.id),a=i==null?void 0:i.findIndex(c=>c.id===e.id);let d=[],u,p=s?t:o==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?l?u="toggle":u="add":i!=null&&i.length&&a!==i.length-1?u="replace":l?u="toggle":u="replace",u==="toggle"&&(s||o||(u="remove")),u==="add"){var f;d=[...i,{id:e.id,desc:p}],d.splice(0,d.length-((f=n.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?d=i.map(c=>c.id===e.id?{...c,desc:p}:c):u==="remove"?d=i.filter(c=>c.id!==e.id):d=[{id:e.id,desc:p}];return d})},e.getFirstSortDir=()=>{var t,r;return((t=(r=e.columnDef.sortDescFirst)!=null?r:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var r,o;const s=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==s&&((r=n.options.enableSortingRemoval)==null||r)&&(!(t&&(o=n.options.enableMultiRemove)!=null)||o)?!1:i==="desc"?"asc":"desc":s},e.getCanSort=()=>{var t,r;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((r=n.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,r;return(t=(r=e.columnDef.enableMultiSort)!=null?r:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const r=(t=n.getState().sorting)==null?void 0:t.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,r;return(t=(r=n.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return r=>{t&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,r;e.setSorting(n?[]:(t=(r=e.initialState)==null?void 0:r.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Mo=[Qr,fo,lo,ao,Kr,Wr,po,ho,Po,so,mo,vo,So,xo,co];function jo(e){var n,t;const r=[...Mo,...(n=e._features)!=null?n:[]];let o={_features:r};const s=o._features.reduce((f,c)=>Object.assign(f,c.getDefaultOptions==null?void 0:c.getDefaultOptions(o)),{}),i=f=>o.options.mergeOptions?o.options.mergeOptions(s,f):{...s,...f};let a={...{},...(t=e.initialState)!=null?t:{}};o._features.forEach(f=>{var c;a=(c=f.getInitialState==null?void 0:f.getInitialState(a))!=null?c:a});const d=[];let u=!1;const p={_features:r,options:{...s,...e},initialState:a,_queue:f=>{d.push(f),u||(u=!0,Promise.resolve().then(()=>{for(;d.length;)d.shift()();u=!1}).catch(c=>setTimeout(()=>{throw c})))},reset:()=>{o.setState(o.initialState)},setOptions:f=>{const c=oe(f,o.options);o.options=i(c)},getState:()=>o.options.state,setState:f=>{o.options.onStateChange==null||o.options.onStateChange(f)},_getRowId:(f,c,h)=>{var v;return(v=o.options.getRowId==null?void 0:o.options.getRowId(f,c,h))!=null?v:`${h?[h.id,c].join("."):c}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(f,c)=>{let h=(c?o.getPrePaginationRowModel():o.getRowModel()).rowsById[f];if(!h&&(h=o.getCoreRowModel().rowsById[f],!h))throw new Error;return h},_getDefaultColumnDef:_(()=>[o.options.defaultColumn],f=>{var c;return f=(c=f)!=null?c:{},{header:h=>{const v=h.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:h=>{var v,C;return(v=(C=h.renderValue())==null||C.toString==null?void 0:C.toString())!=null?v:null},...o._features.reduce((h,v)=>Object.assign(h,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...f}},y(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:_(()=>[o._getColumnDefs()],f=>{const c=function(h,v,C){return C===void 0&&(C=0),h.map(w=>{const F=Ur(o,w,C,v),$=w;return F.columns=$.columns?c($.columns,F,C+1):[],F})};return c(f)},y(e,"debugColumns")),getAllFlatColumns:_(()=>[o.getAllColumns()],f=>f.flatMap(c=>c.getFlatColumns()),y(e,"debugColumns")),_getAllFlatColumnsById:_(()=>[o.getAllFlatColumns()],f=>f.reduce((c,h)=>(c[h.id]=h,c),{}),y(e,"debugColumns")),getAllLeafColumns:_(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(f,c)=>{let h=f.flatMap(v=>v.getLeafColumns());return c(h)},y(e,"debugColumns")),getColumn:f=>o._getAllFlatColumnsById()[f]};Object.assign(o,p);for(let f=0;f<o._features.length;f++){const c=o._features[f];c==null||c.createTable==null||c.createTable(o)}return o}function $o(){return e=>_(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},r=function(o,s,i){s===void 0&&(s=0);const l=[];for(let d=0;d<o.length;d++){const u=bt(e,e._getRowId(o[d],d,i),o[d],d,s,void 0,i==null?void 0:i.id);if(t.flatRows.push(u),t.rowsById[u.id]=u,l.push(u),e.options.getSubRows){var a;u.originalSubRows=e.options.getSubRows(o[d],d),(a=u.originalSubRows)!=null&&a.length&&(u.subRows=r(u.originalSubRows,s+1,u))}}return l};return t.rows=r(n),t},y(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function bo(e,n,t){return t.options.filterFromLeafRows?Io(e,n,t):Eo(e,n,t)}function Io(e,n,t){var r;const o=[],s={},i=(r=t.options.maxLeafRowFilterDepth)!=null?r:100,l=function(a,d){d===void 0&&(d=0);const u=[];for(let f=0;f<a.length;f++){var p;let c=a[f];const h=bt(t,c.id,c.original,c.index,c.depth,void 0,c.parentId);if(h.columnFilters=c.columnFilters,(p=c.subRows)!=null&&p.length&&d<i){if(h.subRows=l(c.subRows,d+1),c=h,n(c)&&!h.subRows.length){u.push(c),s[c.id]=c,o.push(c);continue}if(n(c)||h.subRows.length){u.push(c),s[c.id]=c,o.push(c);continue}}else c=h,n(c)&&(u.push(c),s[c.id]=c,o.push(c))}return u};return{rows:l(e),flatRows:o,rowsById:s}}function Eo(e,n,t){var r;const o=[],s={},i=(r=t.options.maxLeafRowFilterDepth)!=null?r:100,l=function(a,d){d===void 0&&(d=0);const u=[];for(let f=0;f<a.length;f++){let c=a[f];if(n(c)){var p;if((p=c.subRows)!=null&&p.length&&d<i){const v=bt(t,c.id,c.original,c.index,c.depth,void 0,c.parentId);v.subRows=l(c.subRows,d+1),c=v}u.push(c),o.push(c),s[c.id]=c}}return u};return{rows:l(e),flatRows:o,rowsById:s}}function Vo(){return e=>_(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,r)=>{if(!n.rows.length||!(t!=null&&t.length)&&!r){for(let f=0;f<n.flatRows.length;f++)n.flatRows[f].columnFilters={},n.flatRows[f].columnFiltersMeta={};return n}const o=[],s=[];(t??[]).forEach(f=>{var c;const h=e.getColumn(f.id);if(!h)return;const v=h.getFilterFn();v&&o.push({id:f.id,filterFn:v,resolvedValue:(c=v.resolveFilterValue==null?void 0:v.resolveFilterValue(f.value))!=null?c:f.value})});const i=(t??[]).map(f=>f.id),l=e.getGlobalFilterFn(),a=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&l&&a.length&&(i.push("__global__"),a.forEach(f=>{var c;s.push({id:f.id,filterFn:l,resolvedValue:(c=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?c:r})}));let d,u;for(let f=0;f<n.flatRows.length;f++){const c=n.flatRows[f];if(c.columnFilters={},o.length)for(let h=0;h<o.length;h++){d=o[h];const v=d.id;c.columnFilters[v]=d.filterFn(c,v,d.resolvedValue,C=>{c.columnFiltersMeta[v]=C})}if(s.length){for(let h=0;h<s.length;h++){u=s[h];const v=u.id;if(u.filterFn(c,v,u.resolvedValue,C=>{c.columnFiltersMeta[v]=C})){c.columnFilters.__global__=!0;break}}c.columnFilters.__global__!==!0&&(c.columnFilters.__global__=!1)}}const p=f=>{for(let c=0;c<i.length;c++)if(f.columnFilters[i[c]]===!1)return!1;return!0};return bo(n.rows,p,e)},y(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Do(){return e=>_(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const r=e.getState().sorting,o=[],s=r.filter(a=>{var d;return(d=e.getColumn(a.id))==null?void 0:d.getCanSort()}),i={};s.forEach(a=>{const d=e.getColumn(a.id);d&&(i[a.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=a=>{const d=a.map(u=>({...u}));return d.sort((u,p)=>{for(let c=0;c<s.length;c+=1){var f;const h=s[c],v=i[h.id],C=v.sortUndefined,w=(f=h==null?void 0:h.desc)!=null?f:!1;let F=0;if(C){const $=u.getValue(h.id),k=p.getValue(h.id),V=$===void 0,b=k===void 0;if(V||b){if(C==="first")return V?-1:1;if(C==="last")return V?1:-1;F=V&&b?0:V?C:-C}}if(F===0&&(F=v.sortingFn(u,p,h.id)),F!==0)return w&&(F*=-1),v.invertSorting&&(F*=-1),F}return u.index-p.index}),d.forEach(u=>{var p;o.push(u),(p=u.subRows)!=null&&p.length&&(u.subRows=l(u.subRows))}),d};return{rows:l(t.rows),flatRows:o,rowsById:t.rowsById}},y(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Yt(e,n){return e?Ao(e)?m.createElement(e,n):e:null}function Ao(e){return No(e)||typeof e=="function"||ko(e)}function No(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function ko(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Oo(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=m.useState(()=>({current:jo(n)})),[r,o]=m.useState(()=>t.current.initialState);return t.current.setOptions(s=>({...s,...e,state:{...r,...e.state},onStateChange:i=>{o(i),e.onStateChange==null||e.onStateChange(i)}})),t.current}function Lo({className:e,...n}){return g.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:g.jsx("table",{"data-slot":"table",className:G("w-full caption-bottom text-sm",e),...n})})}function Go({className:e,...n}){return g.jsx("thead",{"data-slot":"table-header",className:G("[&_tr]:border-b",e),...n})}function Ho({className:e,...n}){return g.jsx("tbody",{"data-slot":"table-body",className:G("[&_tr:last-child]:border-0",e),...n})}function it({className:e,...n}){return g.jsx("tr",{"data-slot":"table-row",className:G("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...n})}function zo({className:e,...n}){return g.jsx("th",{"data-slot":"table-head",className:G("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...n})}function Zt({className:e,...n}){return g.jsx("td",{"data-slot":"table-cell",className:G("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...n})}function To({table:e}){var n;return g.jsx("div",{className:"rounded-md border",children:g.jsxs(Lo,{children:[g.jsx(Go,{children:e.getHeaderGroups().map(t=>g.jsx(it,{children:t.headers.map(r=>g.jsx(zo,{children:r.isPlaceholder?null:Yt(r.column.columnDef.header,r.getContext())},r.id))},t.id))}),g.jsx(Ho,{children:(n=e.getRowModel().rows)!=null&&n.length?e.getRowModel().rows.map(t=>g.jsx(it,{children:t.getVisibleCells().map(r=>g.jsx(Zt,{children:Yt(r.column.columnDef.cell,r.getContext())},r.id))},t.id)):g.jsx(it,{children:g.jsx(Zt,{colSpan:e.getAllColumns().length,className:"h-24 text-center",children:"No results."})})})]})})}function Dt(e,n){const[t,r]=m.useState(e);return m.useEffect(()=>{const o=setTimeout(()=>{r(e)},n);return()=>{clearTimeout(o)}},[e,n]),t}const en=({value:e,onChange:n,min:t=0,max:r=100,className:o=""})=>{const s=()=>{e<r&&n(e+1)},i=()=>{e>t&&n(e-1)};return g.jsxs("div",{className:`flex items-center gap-2 ${o}`,children:[g.jsx(he,{type:"button",variant:"outline",size:"icon",onClick:i,disabled:e<=t,children:"-"}),g.jsx(jt,{type:"number",value:e,onChange:l=>{const a=parseInt(l.target.value);!isNaN(a)&&a>=t&&a<=r&&n(a)},min:t,max:r,className:"text-center"}),g.jsx(he,{type:"button",variant:"outline",size:"icon",onClick:s,disabled:e>=r,children:"+"})]})},Bo=mr("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-red-600 bg-red-100 text-red-700",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-green-600 bg-green-100 text-green-700"}},defaultVariants:{variant:"default"}});function se({className:e,variant:n,asChild:t=!1,...r}){const o=t?hr:"span";return g.jsx(o,{"data-slot":"badge",className:G(Bo({variant:n}),e),...r})}function Se({column:e,title:n,className:t}){return e.getCanSort()?g.jsx("div",{className:G("flex items-center gap-2",t),children:g.jsxs(Jn,{children:[g.jsx(Yn,{asChild:!0,children:g.jsxs(he,{variant:"ghost",size:"sm",className:"-ml-3 h-8",children:[g.jsx("span",{children:n}),e.getIsSorted()==="desc"?g.jsx(Kt,{}):e.getIsSorted()==="asc"?g.jsx(Wt,{}):g.jsx(ln,{})]})}),g.jsxs(Zn,{align:"start",children:[g.jsxs(Ye,{onClick:()=>e.toggleSorting(!1),children:[g.jsx(Wt,{className:"mr-2 h-3 w-3"}),"Asc"]}),g.jsxs(Ye,{onClick:()=>e.toggleSorting(!0),children:[g.jsx(Kt,{className:"mr-2 h-3 w-3"}),"Desc"]}),g.jsx(er,{}),g.jsxs(Ye,{onClick:()=>e.toggleVisibility(!1),children:[g.jsx(Lr,{className:"mr-2 h-3 w-3"}),"Hide"]})]})]})}):g.jsx("div",{className:G(t),children:n})}var tn=1,qo=.9,Uo=.8,Qo=.17,lt=.1,at=.999,Ko=.9999,Wo=.99,Xo=/[\\\/_+.#"@\[\(\{&]/,Jo=/[\\\/_+.#"@\[\(\{&]/g,Yo=/[\s-]/,yn=/[\s-]/g;function Pt(e,n,t,r,o,s,i){if(s===n.length)return o===e.length?tn:Wo;var l=`${o},${s}`;if(i[l]!==void 0)return i[l];for(var a=r.charAt(s),d=t.indexOf(a,o),u=0,p,f,c,h;d>=0;)p=Pt(e,n,t,r,d+1,s+1,i),p>u&&(d===o?p*=tn:Xo.test(e.charAt(d-1))?(p*=Uo,c=e.slice(o,d-1).match(Jo),c&&o>0&&(p*=Math.pow(at,c.length))):Yo.test(e.charAt(d-1))?(p*=qo,h=e.slice(o,d-1).match(yn),h&&o>0&&(p*=Math.pow(at,h.length))):(p*=Qo,o>0&&(p*=Math.pow(at,d-o))),e.charAt(d)!==n.charAt(s)&&(p*=Ko)),(p<lt&&t.charAt(d-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&t.charAt(d-1)!==r.charAt(s))&&(f=Pt(e,n,t,r,d+1,s+2,i),f*lt>p&&(p=f*lt)),p>u&&(u=p),d=t.indexOf(a,d+1);return i[l]=u,u}function nn(e){return e.toLowerCase().replace(yn," ")}function Zo(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,Pt(e,n,nn(e),nn(n),0,0,{})}var $e='[cmdk-group=""]',ut='[cmdk-group-items=""]',es='[cmdk-group-heading=""]',Fn='[cmdk-item=""]',rn=`${Fn}:not([aria-disabled="true"])`,Mt="cmdk-item-select",xe="data-value",ts=(e,n,t)=>Zo(e,n,t),Pn=m.createContext(void 0),Oe=()=>m.useContext(Pn),Mn=m.createContext(void 0),At=()=>m.useContext(Mn),jn=m.createContext(void 0),$n=m.forwardRef((e,n)=>{let t=Ce(()=>{var S,P;return{search:"",value:(P=(S=e.value)!=null?S:e.defaultValue)!=null?P:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Ce(()=>new Set),o=Ce(()=>new Map),s=Ce(()=>new Map),i=Ce(()=>new Set),l=bn(e),{label:a,children:d,value:u,onValueChange:p,filter:f,shouldFilter:c,loop:h,disablePointerSelection:v=!1,vimBindings:C=!0,...w}=e,F=pe(),$=pe(),k=pe(),V=m.useRef(null),b=gs();me(()=>{if(u!==void 0){let S=u.trim();t.current.value=S,O.emit()}},[u]),me(()=>{b(6,de)},[]);let O=m.useMemo(()=>({subscribe:S=>(i.current.add(S),()=>i.current.delete(S)),snapshot:()=>t.current,setState:(S,P,j)=>{var R,E,D,Q;if(!Object.is(t.current[S],P)){if(t.current[S]=P,S==="search")J(),L(),b(1,W);else if(S==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let B=document.getElementById(k);B?B.focus():(R=document.getElementById(F))==null||R.focus()}if(b(7,()=>{var B;t.current.selectedItemId=(B=ve())==null?void 0:B.id,O.emit()}),j||b(5,de),((E=l.current)==null?void 0:E.value)!==void 0){let B=P??"";(Q=(D=l.current).onValueChange)==null||Q.call(D,B);return}}O.emit()}},emit:()=>{i.current.forEach(S=>S())}}),[]),H=m.useMemo(()=>({value:(S,P,j)=>{var R;P!==((R=s.current.get(S))==null?void 0:R.value)&&(s.current.set(S,{value:P,keywords:j}),t.current.filtered.items.set(S,ue(P,j)),b(2,()=>{L(),O.emit()}))},item:(S,P)=>(r.current.add(S),P&&(o.current.has(P)?o.current.get(P).add(S):o.current.set(P,new Set([S]))),b(3,()=>{J(),L(),t.current.value||W(),O.emit()}),()=>{s.current.delete(S),r.current.delete(S),t.current.filtered.items.delete(S);let j=ve();b(4,()=>{J(),(j==null?void 0:j.getAttribute("id"))===S&&W(),O.emit()})}),group:S=>(o.current.has(S)||o.current.set(S,new Set),()=>{s.current.delete(S),o.current.delete(S)}),filter:()=>l.current.shouldFilter,label:a||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:F,inputId:k,labelId:$,listInnerRef:V}),[]);function ue(S,P){var j,R;let E=(R=(j=l.current)==null?void 0:j.filter)!=null?R:ts;return S?E(S,t.current.search,P):0}function L(){if(!t.current.search||l.current.shouldFilter===!1)return;let S=t.current.filtered.items,P=[];t.current.filtered.groups.forEach(R=>{let E=o.current.get(R),D=0;E.forEach(Q=>{let B=S.get(Q);D=Math.max(B,D)}),P.push([R,D])});let j=V.current;Me().sort((R,E)=>{var D,Q;let B=R.getAttribute("id"),Ge=E.getAttribute("id");return((D=S.get(Ge))!=null?D:0)-((Q=S.get(B))!=null?Q:0)}).forEach(R=>{let E=R.closest(ut);E?E.appendChild(R.parentElement===E?R:R.closest(`${ut} > *`)):j.appendChild(R.parentElement===j?R:R.closest(`${ut} > *`))}),P.sort((R,E)=>E[1]-R[1]).forEach(R=>{var E;let D=(E=V.current)==null?void 0:E.querySelector(`${$e}[${xe}="${encodeURIComponent(R[0])}"]`);D==null||D.parentElement.appendChild(D)})}function W(){let S=Me().find(j=>j.getAttribute("aria-disabled")!=="true"),P=S==null?void 0:S.getAttribute(xe);O.setState("value",P||void 0)}function J(){var S,P,j,R;if(!t.current.search||l.current.shouldFilter===!1){t.current.filtered.count=r.current.size;return}t.current.filtered.groups=new Set;let E=0;for(let D of r.current){let Q=(P=(S=s.current.get(D))==null?void 0:S.value)!=null?P:"",B=(R=(j=s.current.get(D))==null?void 0:j.keywords)!=null?R:[],Ge=ue(Q,B);t.current.filtered.items.set(D,Ge),Ge>0&&E++}for(let[D,Q]of o.current)for(let B of Q)if(t.current.filtered.items.get(B)>0){t.current.filtered.groups.add(D);break}t.current.filtered.count=E}function de(){var S,P,j;let R=ve();R&&(((S=R.parentElement)==null?void 0:S.firstChild)===R&&((j=(P=R.closest($e))==null?void 0:P.querySelector(es))==null||j.scrollIntoView({block:"nearest"})),R.scrollIntoView({block:"nearest"}))}function ve(){var S;return(S=V.current)==null?void 0:S.querySelector(`${Fn}[aria-selected="true"]`)}function Me(){var S;return Array.from(((S=V.current)==null?void 0:S.querySelectorAll(rn))||[])}function We(S){let P=Me()[S];P&&O.setState("value",P.getAttribute(xe))}function Xe(S){var P;let j=ve(),R=Me(),E=R.findIndex(Q=>Q===j),D=R[E+S];(P=l.current)!=null&&P.loop&&(D=E+S<0?R[R.length-1]:E+S===R.length?R[0]:R[E+S]),D&&O.setState("value",D.getAttribute(xe))}function kt(S){let P=ve(),j=P==null?void 0:P.closest($e),R;for(;j&&!R;)j=S>0?ds(j,$e):cs(j,$e),R=j==null?void 0:j.querySelector(rn);R?O.setState("value",R.getAttribute(xe)):Xe(S)}let Ot=()=>We(Me().length-1),Lt=S=>{S.preventDefault(),S.metaKey?Ot():S.altKey?kt(1):Xe(1)},Gt=S=>{S.preventDefault(),S.metaKey?We(0):S.altKey?kt(-1):Xe(-1)};return m.createElement(Z.div,{ref:n,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:S=>{var P;(P=w.onKeyDown)==null||P.call(w,S);let j=S.nativeEvent.isComposing||S.keyCode===229;if(!(S.defaultPrevented||j))switch(S.key){case"n":case"j":{C&&S.ctrlKey&&Lt(S);break}case"ArrowDown":{Lt(S);break}case"p":case"k":{C&&S.ctrlKey&&Gt(S);break}case"ArrowUp":{Gt(S);break}case"Home":{S.preventDefault(),We(0);break}case"End":{S.preventDefault(),Ot();break}case"Enter":{S.preventDefault();let R=ve();if(R){let E=new Event(Mt);R.dispatchEvent(E)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:ps},a),Qe(e,S=>m.createElement(Mn.Provider,{value:O},m.createElement(Pn.Provider,{value:H},S))))}),ns=m.forwardRef((e,n)=>{var t,r;let o=pe(),s=m.useRef(null),i=m.useContext(jn),l=Oe(),a=bn(e),d=(r=(t=a.current)==null?void 0:t.forceMount)!=null?r:i==null?void 0:i.forceMount;me(()=>{if(!d)return l.item(o,i==null?void 0:i.id)},[d]);let u=In(o,s,[e.value,e.children,s],e.keywords),p=At(),f=le(b=>b.value&&b.value===u.current),c=le(b=>d||l.filter()===!1?!0:b.search?b.filtered.items.get(o)>0:!0);m.useEffect(()=>{let b=s.current;if(!(!b||e.disabled))return b.addEventListener(Mt,h),()=>b.removeEventListener(Mt,h)},[c,e.onSelect,e.disabled]);function h(){var b,O;v(),(O=(b=a.current).onSelect)==null||O.call(b,u.current)}function v(){p.setState("value",u.current,!0)}if(!c)return null;let{disabled:C,value:w,onSelect:F,forceMount:$,keywords:k,...V}=e;return m.createElement(Z.div,{ref:Ae(s,n),...V,id:o,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!f,"data-disabled":!!C,"data-selected":!!f,onPointerMove:C||l.getDisablePointerSelection()?void 0:v,onClick:C?void 0:h},e.children)}),rs=m.forwardRef((e,n)=>{let{heading:t,children:r,forceMount:o,...s}=e,i=pe(),l=m.useRef(null),a=m.useRef(null),d=pe(),u=Oe(),p=le(c=>o||u.filter()===!1?!0:c.search?c.filtered.groups.has(i):!0);me(()=>u.group(i),[]),In(i,l,[e.value,e.heading,a]);let f=m.useMemo(()=>({id:i,forceMount:o}),[o]);return m.createElement(Z.div,{ref:Ae(l,n),...s,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},t&&m.createElement("div",{ref:a,"cmdk-group-heading":"","aria-hidden":!0,id:d},t),Qe(e,c=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?d:void 0},m.createElement(jn.Provider,{value:f},c))))}),os=m.forwardRef((e,n)=>{let{alwaysRender:t,...r}=e,o=m.useRef(null),s=le(i=>!i.search);return!t&&!s?null:m.createElement(Z.div,{ref:Ae(o,n),...r,"cmdk-separator":"",role:"separator"})}),ss=m.forwardRef((e,n)=>{let{onValueChange:t,...r}=e,o=e.value!=null,s=At(),i=le(d=>d.search),l=le(d=>d.selectedItemId),a=Oe();return m.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),m.createElement(Z.input,{ref:n,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.listId,"aria-labelledby":a.labelId,"aria-activedescendant":l,id:a.inputId,type:"text",value:o?e.value:i,onChange:d=>{o||s.setState("search",d.target.value),t==null||t(d.target.value)}})}),is=m.forwardRef((e,n)=>{let{children:t,label:r="Suggestions",...o}=e,s=m.useRef(null),i=m.useRef(null),l=le(d=>d.selectedItemId),a=Oe();return m.useEffect(()=>{if(i.current&&s.current){let d=i.current,u=s.current,p,f=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let c=d.offsetHeight;u.style.setProperty("--cmdk-list-height",c.toFixed(1)+"px")})});return f.observe(d),()=>{cancelAnimationFrame(p),f.unobserve(d)}}},[]),m.createElement(Z.div,{ref:Ae(s,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:a.listId},Qe(e,d=>m.createElement("div",{ref:Ae(i,a.listInnerRef),"cmdk-list-sizer":""},d)))}),ls=m.forwardRef((e,n)=>{let{open:t,onOpenChange:r,overlayClassName:o,contentClassName:s,container:i,...l}=e;return m.createElement(tr,{open:t,onOpenChange:r},m.createElement(nr,{container:i},m.createElement(rr,{"cmdk-overlay":"",className:o}),m.createElement(or,{"aria-label":e.label,"cmdk-dialog":"",className:s},m.createElement($n,{ref:n,...l}))))}),as=m.forwardRef((e,n)=>le(t=>t.filtered.count===0)?m.createElement(Z.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),us=m.forwardRef((e,n)=>{let{progress:t,children:r,label:o="Loading...",...s}=e;return m.createElement(Z.div,{ref:n,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Qe(e,i=>m.createElement("div",{"aria-hidden":!0},i)))}),Pe=Object.assign($n,{List:is,Item:ns,Input:ss,Group:rs,Separator:os,Dialog:ls,Empty:as,Loading:us});function ds(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function cs(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function bn(e){let n=m.useRef(e);return me(()=>{n.current=e}),n}var me=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Ce(e){let n=m.useRef();return n.current===void 0&&(n.current=e()),n}function le(e){let n=At(),t=()=>e(n.snapshot());return m.useSyncExternalStore(n.subscribe,t,t)}function In(e,n,t,r=[]){let o=m.useRef(),s=Oe();return me(()=>{var i;let l=(()=>{var d;for(let u of t){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():o.current}})(),a=r.map(d=>d.trim());s.value(e,l,a),(i=n.current)==null||i.setAttribute(xe,l),o.current=l}),o}var gs=()=>{let[e,n]=m.useState(),t=Ce(()=>new Map);return me(()=>{t.current.forEach(r=>r()),t.current=new Map},[e]),(r,o)=>{t.current.set(r,o),n({})}};function fs(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function Qe({asChild:e,children:n},t){return e&&m.isValidElement(n)?m.cloneElement(fs(n),{ref:n.ref},t(n.props.children)):t(n)}var ps={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function hs({className:e,...n}){return g.jsx(Pe,{"data-slot":"command",className:G("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...n})}function ms({className:e,...n}){return g.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[g.jsx(Hr,{className:"size-4 shrink-0 opacity-50"}),g.jsx(Pe.Input,{"data-slot":"command-input",className:G("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...n})]})}function vs({className:e,...n}){return g.jsx(Pe.List,{"data-slot":"command-list",className:G("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...n})}function Ss({...e}){return g.jsx(Pe.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function xs({className:e,...n}){return g.jsx(Pe.Group,{"data-slot":"command-group",className:G("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...n})}function Cs({className:e,...n}){return g.jsx(Pe.Item,{"data-slot":"command-item",className:G("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}var Ke="Popover",[En,ni]=Cr(Ke,[an]),Le=an(),[ws,ae]=En(Ke),Vn=e=>{const{__scopePopover:n,children:t,open:r,defaultOpen:o,onOpenChange:s,modal:i=!1}=e,l=Le(n),a=m.useRef(null),[d,u]=m.useState(!1),[p,f]=xr({prop:r,defaultProp:o??!1,onChange:s,caller:Ke});return g.jsx(sr,{...l,children:g.jsx(ws,{scope:n,contentId:pe(),triggerRef:a,open:p,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(c=>!c),[f]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:i,children:t})})};Vn.displayName=Ke;var Dn="PopoverAnchor",Rs=m.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=ae(Dn,t),s=Le(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=o;return m.useEffect(()=>(i(),()=>l()),[i,l]),g.jsx(un,{...s,...r,ref:n})});Rs.displayName=Dn;var An="PopoverTrigger",Nn=m.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=ae(An,t),s=Le(t),i=cn(n,o.triggerRef),l=g.jsx(Z.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Hn(o.open),...r,ref:i,onClick:Ve(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:g.jsx(un,{asChild:!0,...s,children:l})});Nn.displayName=An;var Nt="PopoverPortal",[_s,ys]=En(Nt,{forceMount:void 0}),kn=e=>{const{__scopePopover:n,forceMount:t,children:r,container:o}=e,s=ae(Nt,n);return g.jsx(_s,{scope:n,forceMount:t,children:g.jsx(gn,{present:t||s.open,children:g.jsx(ir,{asChild:!0,container:o,children:r})})})};kn.displayName=Nt;var Fe="PopoverContent",On=m.forwardRef((e,n)=>{const t=ys(Fe,e.__scopePopover),{forceMount:r=t.forceMount,...o}=e,s=ae(Fe,e.__scopePopover);return g.jsx(gn,{present:r||s.open,children:s.modal?g.jsx(Ps,{...o,ref:n}):g.jsx(Ms,{...o,ref:n})})});On.displayName=Fe;var Fs=vr("PopoverContent.RemoveScroll"),Ps=m.forwardRef((e,n)=>{const t=ae(Fe,e.__scopePopover),r=m.useRef(null),o=cn(n,r),s=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return lr(i)},[]),g.jsx(ar,{as:Fs,allowPinchZoom:!0,children:g.jsx(Ln,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ve(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0,d=l.button===2||a;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ve(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ms=m.forwardRef((e,n)=>{const t=ae(Fe,e.__scopePopover),r=m.useRef(!1),o=m.useRef(!1);return g.jsx(Ln,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(l=t.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var a,d;(a=e.onInteractOutside)==null||a.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=s.target;((d=t.triggerRef.current)==null?void 0:d.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Ln=m.forwardRef((e,n)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:d,onInteractOutside:u,...p}=e,f=ae(Fe,t),c=Le(t);return ur(),g.jsx(dr,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:g.jsx(cr,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:g.jsx(gr,{"data-state":Hn(f.open),role:"dialog",id:f.contentId,...c,...p,ref:n,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gn="PopoverClose",js=m.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=ae(Gn,t);return g.jsx(Z.button,{type:"button",...r,ref:n,onClick:Ve(e.onClick,()=>o.onOpenChange(!1))})});js.displayName=Gn;var $s="PopoverArrow",bs=m.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=Le(t);return g.jsx(fr,{...o,...r,ref:n})});bs.displayName=$s;function Hn(e){return e?"open":"closed"}var Is=Vn,Es=Nn,Vs=kn,Ds=On;function As({...e}){return g.jsx(Is,{"data-slot":"popover",...e})}function Ns({...e}){return g.jsx(Es,{"data-slot":"popover-trigger",...e})}function ks({className:e,align:n="center",sideOffset:t=4,...r}){return g.jsx(Vs,{children:g.jsx(Ds,{"data-slot":"popover-content",align:n,sideOffset:t,className:G("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function Os({selectedItem:e,url:n,onSelect:t,searchPlaceholder:r="Search...",className:o,disabled:s=!1,error:i}){const[l,a]=m.useState(!1),[d,u]=m.useState(""),[p,f]=m.useState((e==null?void 0:e.label)||""),c=Dt(d,300),{data:h=[],isLoading:v}=qe({queryKey:["combobox",n,c],queryFn:async()=>{const F=await(await fetch(`${n}?search=${c}`)).json();return e&&!c&&!F.find($=>$.value===e.value)&&F.unshift(e),F},enabled:l});m.useEffect(()=>{if(e&&h.length>0){const w=h.find(F=>F.value===e.value);w&&f(w.label)}},[h,e]);function C(w){w&&u(""),a(w)}return g.jsxs(As,{open:l,onOpenChange:C,modal:!0,children:[g.jsx(Ns,{asChild:!0,children:g.jsxs(he,{variant:"outline",role:"combobox","aria-expanded":l,className:G("justify-between w-full",i?"border-destructive":"",o),disabled:s,children:[g.jsx("span",{className:"truncate flex items-center",children:p||"Select an item"}),g.jsx(ln,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),g.jsx(ks,{style:{width:"var(--radix-popover-trigger-width)"},className:"p-0",children:g.jsxs(hs,{shouldFilter:!1,children:[g.jsx(ms,{placeholder:r,value:d,onValueChange:u}),g.jsxs(vs,{children:[g.jsx(Ss,{children:v?g.jsx("div",{className:"space-y-2 p-2",children:Array.from({length:3}).map((w,F)=>g.jsx(zr,{className:"h-8 w-full"},F))}):"No results found."}),g.jsx(xs,{children:h.map(w=>{if(!w.value)return null;const F=(e==null?void 0:e.value)===w.value;return g.jsxs(Cs,{value:w.value.toString(),onSelect:()=>{t(w),f(w.label),C(!1)},children:[w.label,g.jsx(wr,{className:G("ml-auto h-4 w-4",F?"opacity-100":"opacity-0")})]},w.value.toString())})})]})]})})]})}function Ie({value:e,onChange:n,label:t,error:r,disabled:o}){const s=e?{value:e,label:""}:null;return g.jsxs("div",{className:"space-y-2",children:[g.jsx(Sr,{htmlFor:t.toLowerCase(),children:t}),g.jsx(Os,{selectedItem:s,url:route("api.users.search"),onSelect:i=>n(i.value),searchPlaceholder:"Search player...",disabled:o,error:r}),r&&g.jsx("p",{className:"text-sm text-destructive",children:r})]})}const Ls=(e,n=1e3,t=1.5)=>{let r=n;return e.forEach(({our_score:o,their_score:s})=>{const i=Math.abs(o-s),l=o>s?1:0,a=t*i;r+=l===1?a:-a}),Math.round(r)},Gs=(e,n)=>{const t=e.map(i=>{const l=n.filter(d=>d.team1_player1.id===i.id||d.team1_player2.id===i.id||d.team2_player1.id===i.id||d.team2_player2.id===i.id),a=Ls(l.map(d=>({our_score:d.team1_score,their_score:d.team2_score})));return{...i,mmr:a}}),r=[];for(let i=0;i<t.length;i++)for(let l=i+1;l<t.length;l++)for(let a=0;a<t.length;a++)for(let d=a+1;d<t.length;d++)i===a||i===d||l===a||l===d||r.push({team1:[t[i],t[l]],team2:[t[a],t[d]]});const s=r.map(i=>{const l=i.team1.reduce((u,p)=>u+p.mmr,0),a=i.team2.reduce((u,p)=>u+p.mmr,0),d=Math.abs(l-a);return{...i,mmrDifference:d}}).sort((i,l)=>i.mmrDifference-l.mmrDifference)[0];return{team1:s.team1,team2:s.team2}},Hs=[{title:"Dashboard",href:"/dashboard"},{title:"Games",href:"/games"}],zs=({users:e,initialTeams:n})=>{var p,f,c,h;const{data:t,setData:r,post:o,processing:s,errors:i,reset:l}=Xn({team1_player1_id:((p=n==null?void 0:n.team1[0])==null?void 0:p.id)||null,team1_player2_id:((f=n==null?void 0:n.team1[1])==null?void 0:f.id)||null,team2_player1_id:((c=n==null?void 0:n.team2[0])==null?void 0:c.id)||null,team2_player2_id:((h=n==null?void 0:n.team2[1])==null?void 0:h.id)||null,team1_score:21,team2_score:21}),a=i.team1_player1_id||i.team1_player2_id||i.team1_score,d=i.team2_player1_id||i.team2_player2_id||i.team2_score,u=v=>{v.preventDefault(),o(route("games.store"),{onSuccess:()=>{l()}})};return g.jsxs("form",{onSubmit:u,className:"space-y-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-8 items-center",children:[g.jsxs("div",{className:"space-y-4 w-full",children:[a&&g.jsx("div",{className:"text-red-500 text-sm mb-2",children:a}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Ie,{users:e,value:t.team1_player1_id,onChange:v=>r("team1_player1_id",v),label:"Player 1",error:i.team1_player1_id})}),g.jsx("div",{className:"flex-1",children:g.jsx(Ie,{users:e,value:t.team1_player2_id,onChange:v=>r("team1_player2_id",v),label:"Player 2",error:i.team1_player2_id})})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx(en,{value:t.team1_score,onChange:v=>r("team1_score",v),min:0,max:100,className:"w-48 text-4xl",error:i.team1_score})})]}),g.jsx("div",{className:"text-6xl font-bold text-muted-foreground px-4 py-4 md:py-0",children:"VS"}),g.jsxs("div",{className:"space-y-4 w-full",children:[d&&g.jsx("div",{className:"text-red-500 text-sm mb-2",children:d}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Ie,{users:e,value:t.team2_player1_id,onChange:v=>r("team2_player1_id",v),label:"Player 1",error:i.team2_player1_id})}),g.jsx("div",{className:"flex-1",children:g.jsx(Ie,{users:e,value:t.team2_player2_id,onChange:v=>r("team2_player2_id",v),label:"Player 2",error:i.team2_player2_id})})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx(en,{value:t.team2_score,onChange:v=>r("team2_score",v),min:0,max:100,className:"w-48 text-4xl",error:i.team2_score})})]})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx(he,{type:"submit",disabled:s,size:"lg",children:"Create Game"})})]})},Ts=({game:e})=>{const n=e.team1_score>e.team2_score,t=e.team2_score>e.team1_score;return g.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-2 border-b last:border-b-0",children:[g.jsx("div",{className:"flex-1 flex flex-col items-center md:items-end",children:g.jsxs("div",{className:"font-semibold",children:[e.team1_player1.name," & ",e.team1_player2.name]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(se,{variant:n?"success":t?"destructive":"secondary",className:"text-lg px-4 py-2",children:e.team1_score}),g.jsx("span",{className:"text-xl font-bold text-muted-foreground",children:"-"}),g.jsx(se,{variant:t?"success":n?"destructive":"secondary",className:"text-lg px-4 py-2",children:e.team2_score})]}),g.jsx("div",{className:"flex-1 flex flex-col items-center md:items-start",children:g.jsxs("div",{className:"font-semibold",children:[e.team2_player1.name," & ",e.team2_player2.name]})}),g.jsx("div",{className:"hidden md:block text-sm text-muted-foreground min-w-[100px] text-center",children:new Date(e.created_at).toLocaleDateString()})]})},Bs=()=>{var i,l;const[e,n]=m.useState(""),t=Dt(e,300),{data:r,isLoading:o,error:s}=qe({queryKey:["games",t],queryFn:async()=>{const a=await fetch(route("games.index",{search:t}),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error("Network response was not ok");return a.json()}});return g.jsxs("div",{className:"mt-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h2",{className:"text-2xl font-semibold",children:"Recent Games"}),g.jsx(jt,{type:"search",placeholder:"Search by user name...",value:e,onChange:a=>n(a.target.value),className:"max-w-sm"})]}),o?g.jsx("div",{children:"Loading..."}):s?g.jsxs("div",{children:["Error: ",s.message]}):g.jsx("div",{className:"divide-y",children:((i=r==null?void 0:r.data.data)==null?void 0:i.length)===0?g.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No games found."}):(l=r==null?void 0:r.data.data)==null?void 0:l.map(a=>g.jsx(Ts,{game:a},a.id))})]})},qs=({leaderboard:e})=>{const[n,t]=m.useState([]),[r,o]=m.useState([]),[s,i]=m.useState(""),l=[{accessorKey:"rank",header:({column:u})=>g.jsx(Se,{column:u,title:"Rank"}),cell:({row:u})=>g.jsx("span",{className:"text-center block font-medium",children:u.original.rank}),enableSorting:!0,enableHiding:!0},{accessorKey:"name",header:({column:u})=>g.jsx(Se,{column:u,title:"Player"}),cell:({row:u})=>g.jsx("span",{className:"font-medium",children:u.original.name}),enableSorting:!0,enableHiding:!0},{accessorKey:"win_rate",header:({column:u})=>g.jsx(Se,{column:u,title:"Win Rate"}),cell:({row:u})=>g.jsx("span",{className:"text-center block",children:g.jsxs(se,{variant:u.original.win_rate>=50?"success":"destructive",children:[u.original.win_rate,"%"]})}),enableSorting:!0,enableHiding:!0},{accessorKey:"total_games",header:({column:u})=>g.jsx(Se,{column:u,title:"Total Games"}),cell:({row:u})=>g.jsx("span",{className:"text-center block",children:u.original.total_games}),enableSorting:!0,enableHiding:!0},{accessorKey:"wins",header:({column:u})=>g.jsx(Se,{column:u,title:"W/L"}),cell:({row:u})=>g.jsxs("div",{className:"flex flex-wrap gitems-center gap-1",children:[g.jsxs("span",{className:"text-center block",children:[u.original.wins,"/",u.original.losses]}),g.jsxs(se,{variant:u.original.wins>u.original.losses?"success":u.original.wins<u.original.losses?"destructive":"secondary",children:[u.original.wins-u.original.losses>0?"+":"",u.original.wins-u.original.losses]})]}),enableSorting:!0,enableHiding:!0},{accessorKey:"score_diff",header:({column:u})=>g.jsx(Se,{column:u,title:"Score Difference"}),cell:({row:u})=>g.jsx("span",{className:"flex justify-center",children:g.jsx(se,{variant:u.original.score_diff>0?"success":u.original.score_diff<0?"destructive":"secondary",children:u.original.score_diff})}),enableSorting:!0,enableHiding:!0}],a={rank:"Rank",name:"Player",win_rate:"Win Rate",total_games:"Total Games",wins:"W/L",score_diff:"Score Difference"},d=Oo({data:e,columns:l,state:{sorting:n,columnFilters:r},onSortingChange:t,onColumnFiltersChange:o,getCoreRowModel:$o(),getSortedRowModel:Do(),getFilteredRowModel:Vo()});return m.useEffect(()=>{var u;(u=d.getColumn("name"))==null||u.setFilterValue(s)},[s]),g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"flex justify-between items-baseline mb-2 gap-2",children:[g.jsx("h2",{className:"text-2xl font-semibold",children:"Player Leaderboard"}),g.jsxs("div",{className:"flex flex-1 justify-end flex-wrap gap-2",children:[n.length>0&&g.jsxs(se,{variant:"outline",className:"h-8",children:[n.map(u=>g.jsxs("span",{className:"flex items-center gap-1",children:[a[u.id]," ",u.desc?"↓":"↑"]},u.id)),g.jsx("button",{onClick:()=>t([]),className:"ml-2 hover:bg-muted rounded-sm p-0.5",children:g.jsx(dn,{className:"h-3 w-3"})})]}),g.jsx(jt,{type:"search",placeholder:"Search by player name...",value:s,onChange:u=>i(u.target.value),className:"max-w-md"})]})]}),g.jsx(To,{table:d})]})},Us=({users:e,onTeamsGenerated:n})=>{const[t,r]=m.useState([]),[o,s]=m.useState(null),{data:i}=qe({queryKey:["games"],queryFn:async()=>{const u=await fetch(route("games.index"),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!u.ok)throw new Error("Network response was not ok");return u.json()}}),l=u=>{if(!u||t.length>=8||t.some(f=>f.id===u))return;const p=e.find(f=>f.id===u);p&&r(f=>[...f,p])},a=u=>{r(p=>p.filter(f=>f.id!==u))},d=()=>{if(t.length<4)return;const u=Gs(t,(i==null?void 0:i.data.data)||[]);s(u),n(u)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsx("h3",{className:"text-lg font-semibold",children:"Select Players"})}),g.jsx("div",{className:"flex gap-2",children:g.jsx("div",{className:"flex-1",children:g.jsx(Ie,{users:e.filter(u=>!t.some(p=>p.id===u.id)),value:null,onChange:l,label:"Add Player"})})}),t.length>0&&g.jsx("div",{className:"space-y-2",children:t.map(u=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[g.jsx("span",{children:u.name}),g.jsx(he,{variant:"ghost",size:"sm",onClick:()=>a(u.id),children:g.jsx(dn,{className:"h-4 w-4"})})]},u.id))})]}),g.jsx("div",{className:"flex justify-center",children:g.jsx(he,{onClick:d,disabled:t.length<4,size:"lg",children:"Generate Teams"})}),o&&g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h4",{className:"text-lg font-semibold",children:"Team 1"}),g.jsx("div",{className:"space-y-2",children:o.team1.map(u=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[g.jsx("span",{children:u.name}),g.jsxs(se,{variant:"outline",children:["MMR: ",u.mmr]})]},u.id))})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h4",{className:"text-lg font-semibold",children:"Team 2"}),g.jsx("div",{className:"space-y-2",children:o.team2.map(u=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[g.jsx("span",{children:u.name}),g.jsxs(se,{variant:"outline",children:["MMR: ",u.mmr]})]},u.id))})]})]})]})};function ri({auth:e,games:n,users:t}){const{search:r}=Kn().props,[o,s]=m.useState(r||""),i=Dt(o,300),[l,a]=m.useState(null),{data:d,isLoading:u,error:p}=qe({queryKey:["games",i],queryFn:async()=>{const f=await fetch(route("games.index",{search:i}),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!f.ok)throw new Error("Network response was not ok");return f.json()}});return g.jsxs(pr,{breadcrumbs:Hs,children:[g.jsx(Wn,{title:"Games"}),g.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:g.jsx("div",{className:"bg-white overflow-hidden",children:g.jsxs("div",{className:"space-y-12",children:[g.jsx("h3",{className:"text-lg font-semibold",children:"Team Generator"}),g.jsx(Us,{users:t,onTeamsGenerated:a}),g.jsx("h3",{className:"text-lg font-semibold",children:"New Game"}),g.jsx(zs,{users:t,initialTeams:l}),g.jsx(qs,{leaderboard:(d==null?void 0:d.leaderboard)||[]}),g.jsx(Bs,{})]})})})]})}export{ri as default};
